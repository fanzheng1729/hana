# A proof development tool for metamath

This is a prototype of proof development tool intended to work with metamath (https://us.metamath.org/), a minimalist formal language capable of expressing all the mathematical proofs ever created.

Recently there has been a spur of interest in proving mathematical theorems using the generative power of large language models (LLM). The emphasis of this project, however, is somewhat complementary. It aims to find out how far we can go **without** LLMs by taking the traditional approach. So far it has used a combination of Monte Carlo Tree Search and aggressive pruning.

Currently this project focuses on the part of the metamath database (set.mm) on propositional logic. Of the 1843 propositional theorems in the database, 1766 can be solved under 32k nodes, reaching an accuracy of 95.8%. Noteably, this algorithm does **not** use neural networks. Running single-threaded on a CPU, the whole process takes about 30s.

Sample proof of the associative law of equivalence, found by the program at a budget of 128k nodes:
```
biimp          |- ( ( ph <-> ps ) -> ( ph -> ps ) ) 
com12         |- ( ph -> ( ( ph <-> ps ) -> ps ) ) 
pm5.1im       |- ( ph -> ( ps -> ( ph <-> ps ) ) ) 
impbid       |- ( ph -> ( ( ph <-> ps ) <-> ps ) ) 
bibi1d      |- ( ph -> ( ( ( ph <-> ps ) <-> ch ) <-> ( ps <-> ch ) ) ) 
biimpcd    |- ( ( ( ph <-> ps ) <-> ch ) -> ( ph -> ( ps <-> ch ) ) ) 
biimpr        |- ( ( ps <-> ch ) -> ( ch -> ps ) ) 
com12        |- ( ch -> ( ( ps <-> ch ) -> ps ) ) 
biimpr       |- ( ( ph <-> ps ) -> ( ps -> ph ) ) 
syl9r       |- ( ( ph <-> ps ) -> ( ch -> ( ( ps <-> ch ) -> ph ) ) ) 
2a1           |- ( ph -> ( -. ch -> ( ( ps <-> ch ) -> ph ) ) ) 
simplim         |- ( -. ( ( ps <-> ch ) -> ph ) -> ( ps <-> ch ) ) 
biimpcd        |- ( ps -> ( -. ( ( ps <-> ch ) -> ph ) -> ch ) ) 
con1d         |- ( ps -> ( -. ch -> ( ( ps <-> ch ) -> ph ) ) ) 
pm5.21ni     |- ( -. ( -. ch -> ( ( ps <-> ch ) -> ph ) ) -> ( ph <-> ps ) ) 
con1i       |- ( -. ( ph <-> ps ) -> ( -. ch -> ( ( ps <-> ch ) -> ph ) ) ) 
bija       |- ( ( ( ph <-> ps ) <-> ch ) -> ( ( ps <-> ch ) -> ph ) ) 
impbid    |- ( ( ( ph <-> ps ) <-> ch ) -> ( ph <-> ( ps <-> ch ) ) ) 
bicom      |- ( ( ph <-> ps ) <-> ( ps <-> ph ) ) 
pm5.1im         |- ( ps -> ( ph -> ( ps <-> ph ) ) ) 
com12          |- ( ph -> ( ps -> ( ps <-> ph ) ) ) 
biimpr          |- ( ( ps <-> ph ) -> ( ph -> ps ) ) 
com12          |- ( ph -> ( ( ps <-> ph ) -> ps ) ) 
impbid        |- ( ph -> ( ps <-> ( ps <-> ph ) ) ) 
bibi1d       |- ( ph -> ( ( ps <-> ch ) <-> ( ( ps <-> ph ) <-> ch ) ) ) 
biimpd      |- ( ph -> ( ( ps <-> ch ) -> ( ( ps <-> ph ) <-> ch ) ) ) 
simplim             |- ( -. ( ( ps <-> ph ) -> ch ) -> ( ps <-> ph ) ) 
biimpcd            |- ( ps -> ( -. ( ( ps <-> ph ) -> ch ) -> ph ) ) 
con1d             |- ( ps -> ( -. ph -> ( ( ps <-> ph ) -> ch ) ) ) 
com3r            |- ( ( ps <-> ph ) -> ( ps -> ( -. ph -> ch ) ) ) 
2a1              |- ( ch -> ( ps -> ( -. ph -> ch ) ) ) 
pm5.21ni        |- ( -. ( ps -> ( -. ph -> ch ) ) -> ( ( ps <-> ph ) <-> ch ) ) 
con1i          |- ( -. ( ( ps <-> ph ) <-> ch ) -> ( ps -> ( -. ph -> ch ) ) ) 
com3r         |- ( -. ph -> ( -. ( ( ps <-> ph ) <-> ch ) -> ( ps -> ch ) ) ) 
ax-1                 |- ( ps -> ( -. ph -> ps ) ) 
pm2.24               |- ( ph -> ( -. ph -> ps ) ) 
pm5.21ni            |- ( -. ( -. ph -> ps ) -> ( ps <-> ph ) ) 
con1i              |- ( -. ( ps <-> ph ) -> ( -. ph -> ps ) ) 
a1d               |- ( -. ( ps <-> ph ) -> ( ch -> ( -. ph -> ps ) ) ) 
con1i            |- ( -. ( ch -> ( -. ph -> ps ) ) -> ( ps <-> ph ) ) 
simplim          |- ( -. ( ch -> ( -. ph -> ps ) ) -> ch ) 
2thd            |- ( -. ( ch -> ( -. ph -> ps ) ) -> ( ( ps <-> ph ) <-> ch ) ) 
con1i          |- ( -. ( ( ps <-> ph ) <-> ch ) -> ( ch -> ( -. ph -> ps ) ) ) 
com3r         |- ( -. ph -> ( -. ( ( ps <-> ph ) <-> ch ) -> ( ch -> ps ) ) ) 
impbidd      |- ( -. ph -> ( -. ( ( ps <-> ph ) <-> ch ) -> ( ps <-> ch ) ) ) 
con1d       |- ( -. ph -> ( -. ( ps <-> ch ) -> ( ( ps <-> ph ) <-> ch ) ) ) 
bija       |- ( ( ph <-> ( ps <-> ch ) ) -> ( ( ps <-> ph ) <-> ch ) ) 
syl5bb    |- ( ( ph <-> ( ps <-> ch ) ) -> ( ( ph <-> ps ) <-> ch ) ) 
impbii   |- ( ( ( ph <-> ps ) <-> ch ) <-> ( ph <-> ( ps <-> ch ) ) ) 
```